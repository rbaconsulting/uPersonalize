class uPersonalize{static async makeRequest(n,t,i){return await fetch(n,{method:t,body:i}).then(n=>n.text())}static async isOptOut(){return await uPersonalize.makeRequest("/umbraco/uPersonalize/Personalization/isOptOut","GET",null)}static async optOut(){await uPersonalize.makeRequest("/umbraco/uPersonalize/Personalization/optOut","POST",null)}static async resetPersonalization(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/resetPersonalization/${n}`,"POST",null)}static async getDeviceType(){await uPersonalize.makeRequest("/umbraco/uPersonalize/Personalization/getDeviceType","GET",null)}static async onPageLoad(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/onPageLoad/${n}`,"POST",null)}static async doesFilterMatch(n,t,i){var r,u,f;let e=await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/doesFilterMatch`,"POST",n);if(e)for(r=document.querySelectorAll(t),Array.from(r,t=>{switch(n.Action){case 0:return;case 1:t.classList.add("uPersonalize-hide");t.classList.remove("uPersonalize-show");break;case 2:t.classList.add("uPersonalize-show");t.classList.remove("uPersonalize-hide");break;case 3:t.classList.add(i);break;default:return}}),u=0;u<r.length;u++)f=r[u],f.add}static async triggerEvent(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/triggerEvent/${n}`,"POST",null)}static async recordPageLoad(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/recordPageLoad/${n}`,"POST",null)}static async getTriggeredEventCount(n){return await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/getTriggeredEventCount/${n}`,"GET",null)}static async getPageLoadCount(n){return await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/getPageLoadCount/${n}`,"GET",null)}static initEventButtons(){var t=document.getElementsByClassName("uPersonalizeButton",null),n,i;if(t.length>0)for(n=0;n<t.length;n++)i=t[n],i&&i.addEventListener("click",async function(){var n=this.dataset.upersonalizeEventName;await uPersonalize.triggerEvent(n)})}}window.addEventListener("load",function(){uPersonalize.initEventButtons()});