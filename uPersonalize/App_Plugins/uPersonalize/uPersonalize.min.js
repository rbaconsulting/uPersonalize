class uPersonalize{static async makeRequest(n,t,i){return await fetch(n,{method:t,body:i}).then(n=>n.text())}static async trackUser(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/trackUser/${n}`,"POST",null)}static async isMatch(n,t,i){var r,u,f;let e=await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/isMatch`,"POST",n);if(e)for(r=document.querySelectorAll(t),Array.from(r,t=>{switch(n.Action){case 0:return;case 1:t.classList.add("uPersonalize-hide");t.classList.remove("uPersonalize-show");break;case 2:t.classList.add("uPersonalize-show");t.classList.remove("uPersonalize-hide");break;case 3:t.classList.add(i);break;default:return}}),u=0;u<r.length;u++)f=r[u],f.add}static async triggerEvent(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/triggerEvent/${n}`,"POST",null)}static async visitPage(n){await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/pageVisit/${n}`,"POST",null)}static async getTriggeredEventCount(n){return await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/getTriggeredEventCount/${n}`,"GET",null)}static async getPageVisitCount(n){return await uPersonalize.makeRequest(`/umbraco/uPersonalize/Personalization/getPageVisitCount/${n}`,"GET",null)}static initEventButtons(){var t=document.getElementsByClassName("uPersonalizeButton",null),n,i,r;if(t.length>0)for(n=0;n<t.length;n++)i=t[n],r=i.dataset.upersonalizeEventName,r&&i.addEventListener("click",async function(){await uPersonalize.triggerEvent(r)})}}window.addEventListener("load",function(){uPersonalize.initEventButtons()});